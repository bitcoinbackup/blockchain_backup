{% extends "base.html" %}
{% comment %}
    Copyright 2018-2020 DeNova
    Last modified: 2020-09-25
{% endcomment %}

{% load i18n custom %}

{% block titlevar %}
    Preferences
{% endblock %}

{% block mainpane %}

{% subtitle %}
    Blockchain Backup Preferences
{% endsubtitle %}

<form method="POST" action="/bitcoin/preferences/"  name="change_preferences_form">{% csrf_token %}
    <div class="row">
        <div class="col-lg-12"><b>Bitcoin Core directories</b></div>
    </div>
    <div class="row">
        <div class="col-lg-3" title="Bitcoin data dir.">
            &nbsp;&nbsp;Data:
        </div>
        <div class="col-lg-9" title="Directory where Bitcoin-Core stores its data.">
            {{ form.data_dir }}
        </div>
    </div>
    {% if form.data_dir.errors %}
    <div class="row">
        <div class="col-lg-12" style="color:red">
            {{ form.data_dir.errors }}
        </div>
    </div>
    {% endif %}

    <div class="row">
        <div class="col-lg-3" title="Dir that contains Bitcoin Core's apps.">
            &nbsp;&nbsp;Executables:
        </div>
        <div class="col-lg-9" title="Dir with Bitcoin Core's programs: Bitcoin-QT, BitcoinD, and Bitcoin-Cli.">
            {{ form.bin_dir }}
        </div>
    </div>
    {% if form.bin_dir.errors %}
    <div class="row">
        <div class="col-lg-12" style="color:red">
            {{ form.bin_dir.errors }}
        </div>
    </div>
    {% endif %}

    <div class="row">
        <div class="col-lg-12" title="Bitcoin-QT and BitcoinD"><b>Bitcoin Core apps</b></div>
    </div>
    <div class="row">
        <div class="col-lg-3" title="Extra arguments you want added when you run Bitcoin-QT and BitcoinD.">
           &nbsp;&nbsp;Extra arguments:
        </div>
        <div class="col-lg-9" title="Extra arguments you want added when you run Bitcoin-QT and BitcoinD.">
            {{ form.extra_args }}
        </div>
    </div>
    {% if form.extra_args.errors %}
    <div class="row">
        <div class="col-lg-12" style="color:red">
            {{ form.extra_args.errors }}
        </div>
    </div>
    {% endif %}

    <div class="row">
        <div class="col-lg-12" title="Blockchain Backup only backs up the blockchain. Don't forget to backup your wallet(s) routinely, too."><b>Blockchain Backups</b></div>
    </div>
    <div class="row">
        <div class="col-lg-3" title="Enter the number of different backups to keep. Warning: Each backup can take a long time to create initially, but gives you better protection if your blockchain is damaged.">
            &nbsp;&nbsp;How many different backups:
        </div>
        {# limit the input to 1-10; django doesn't give us a way to do this so we do it ourselves #}
        <div class="col-lg-9" title="Enter the number of different backups to keep. Warning: Each backup can take a long time to create initially, but gives you better protection if your blockchain is damaged.">
            <input type="number" name="backup_levels" value="{{ form.backup_levels.value }}" id="id_backup_levels" min="1" max="10" />
        </div>
    </div>
    {% if form.backup_levels.errors  %}
    <div class="row">
        <div class="col-lg-12" style="color:red">
            {{ form.backup_levels.errors }}
        </div>
    </div>
    {% endif %}

    <div class="row">
        <div class="col-lg-3" title="Enter the hours between automatic backups.">
            &nbsp;&nbsp;Hours between backups:
        </div>
        {# limit the input to 0-24; django doesn't give us a way to do this so we do it ourselves #}
        <div class="col-lg-9" title="Enter the hours between automatic backups.">
            <input type="number" name="backup_schedule" value="{{ form.backup_schedule.value }}" id="id_backup_schedule" min="0" max="24" />
        </div>
    </div>
    {% if form.backup_schedule.errors  %}
    <div class="row">
        <div class="col-lg-12" style="color:red">
            {{ form.backup_schedule.errors }}
        </div>
    </div>
    {% endif %}

      <div class="row">
        <div class="col-lg-3" title="Directory to store backups of the blockchain.">
            &nbsp;&nbsp;Backup directory:
        </div>
        <div class="col-lg-9" title="Directory to store blockchain backups.">
            {{ form.backup_dir }}
        </div>
    </div>
    {% if form.backup_dir.errors %}
    <div class="row">
        <div class="col-lg-12" style="color:red">
            {{ form.backup_dir.errors }}
        </div>
    </div>
    {% endif %}

    <div class="row">&nbsp;</div>

    <div class="row">
        <div class="col-lg-3">
            &nbsp;
        </div>
        <div class="col-lg-9">
            {% submit_button "Save" "Save your preferences" %}
        </div>
    </div>
</form>

{% endblock mainpane %}
